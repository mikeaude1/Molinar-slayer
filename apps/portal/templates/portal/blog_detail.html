{% extends "includes/base.html" %}
{% load i18n %}
{% load static %}
{% block title %}{{ post.title_display }}{% endblock title %}
{% block styles%}
<link rel="stylesheet" href="{% static 'css/styles.css' %}" />
<link rel="stylesheet" href="{% static 'css/portal/blog.css' %}" />
{% endblock styles %}
{% block content %}
<article class="post container">
  <header class="post-header">
    <h1 class="post-title">{{ post.title_display }}</h1>
    <time class="post-date" datetime="{{ post.created_at|date:'c' }}">{{ post.created_at|date:"d/m/Y" }}</time>
  </header>
  {% if post.image_display_url %}
  <img src="{{ post.image_display_url }}" alt="{{ post.title_display }}" class="post-image" />
  {% else %}
  <img src="{% static 'images/mission.jpg' %}" alt="{{ post.title_display }}" class="post-image" />
  {% endif %}
  
  {# Art√≠culos consecutivos #}
  {% if articles %}
    <section class="post-articles" style="display:grid; gap:1rem; margin-top:1rem;">
      {% for art in articles %}
        <div class="post-article">
          {% if art.title %}
            <h2 class="article-title">{{ art.title }}</h2>
          {% endif %}
          {% if art.image_display_url %}
            <img src="{{ art.image_display_url }}" alt="{{ art.title|default:post.title_display }}" class="article-image" />
          {% endif %}
          {% if art.content %}
            <div class="article-content">{{ art.content|linebreaks }}</div>
          {% endif %}
        </div>
        {% if not forloop.last %}
          <hr class="article-separator" />
        {% endif %}
      {% endfor %}
    </section>
  {% else %}
    <div class="post-content">
      {{ post.content_display|linebreaks }}
    </div>
  {% endif %}
</article>
{% endblock content %}